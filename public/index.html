<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Test Einstein</title>

    <!-- update the version number as needed -->
    <!--script defer src="/__/firebase/9.6.3/firebase-app-compat.js"></script-->
    <!-- include only the Firebase features as you need -->
    <!--script defer src="/__/firebase/9.6.3/firebase-auth-compat.js"></script>
    <script defer src="/__/firebase/9.6.3/firebase-database-compat.js"></script>
    <script defer src="/__/firebase/9.6.3/firebase-firestore-compat.js"></script>
    <script defer src="/__/firebase/9.6.3/firebase-functions-compat.js"></script>
    <script defer src="/__/firebase/9.6.3/firebase-messaging-compat.js"></script>
    <script defer src="/__/firebase/9.6.3/firebase-storage-compat.js"></script>
    <script defer src="/__/firebase/9.6.3/firebase-analytics-compat.js"></script>
    <script defer src="/__/firebase/9.6.3/firebase-remote-config-compat.js"></script>
    <script defer src="/__/firebase/9.6.3/firebase-performance-compat.js"></script-->
    <!-- 
      initialize the SDK after all desired features are loaded, set useEmulator to false
      to avoid connecting the SDK to running emulators.
    -->
    <!--script defer src="/__/firebase/init.js?useEmulator=true"></script-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link href="index.css" rel="stylesheet" type="text/css">
    <!--script src="index.js"></script-->


    <style media="screen">
      @media (max-width: 600px) {
        body, #message { margin-top: 0; background: white; box-shadow: none; }
        body { border-top: 16px solid #ffa100; }
      }
    </style>

    <script type="text/javascript" async src="//100007110.collect.igodigital.com/collect.js"></script>

  </head>
  <body>
    <!--marketing cloud-->
    <script>
      var _etmc = [];
      _etmc.push(["setOrgId", "100007110"]); 
      _etmc.push(["setUserInfo", {"user_ID" : ""}]);   
      _etmc.push(["trackPageView"]);
    </script> 
        <!--navbar-->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <div class="container-fluid">
        <a class="navbar-brand" href="#">Test Einstein</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" data-bs-toggle="modal" data-bs-target="#loginModal">Login</a>
            </li>
          </ul>
          <form class="d-flex">
            <input id="searchField" class="form-control me-2" type="input" placeholder="Search" aria-label="Search">
            <button class="btn btn-outline-success" type="button" onclick="search()">Search</button>
          </form>
        </div>
      </div>
    </nav>
      <!-- Modal -->
      <div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-body">
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              <p class="sign" align="center">Sign in</p>
              <form class="form1">
                <input class="un" id="email" type="text" align="center" placeholder="Username">
                <input class="pass" id="password" type="password" align="center" placeholder="Password">
                <a class="submit" align="center" data-bs-dismiss="modal" onclick="logIn()">Log in</a> 
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- articoli-->
    <div class="container">
      <div class="row">
        <div class="col">
          <figure class="figure" style="cursor: pointer;">
            <img src="img/noovle.jpeg" class="figure-img img-fluid rounded" alt="Noovle" onclick="trackCategory('tecnologia', '5')">
            <figcaption class="figure-caption">TECNOLOGIA</figcaption>
          </figure>
          <h1><a href="/homepage" onclick="trackCategory('tecnologia')">TITOLO ARTICOLO A</a></h1>
          <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc consequat eleifend nisi ut efficitur. Nulla condimentum, libero ac venenatis rutrum, quam sapien commodo libero, ut bibendum lorem augue vel lectus. Sed mauris mauris, laoreet ac neque blandit, dignissim vestibulum enim. Nulla at tortor enim. Donec vitae lacinia lacus. Suspendisse tristique eros ac lorem condimentum suscipit.</p>
        </div>
      </div>
      <div class="row ">
        <div class="col">
          <figure class="figure" style="cursor: pointer;">
            <img src="img/viaggi.jpeg" class="figure-img img-fluid rounded" alt="immagine aereo" onclick="trackCategory('estero','13')">
            <figcaption class="figure-caption">ESTERO</figcaption>
          </figure>
          <h3><a href="/homepage" onclick="trackCategory('estero')">TITOLO ARTICOLO B</a></h3>
          <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc consequat eleifend nisi ut efficitur. Nulla condimentum, libero ac venenatis rutrum, quam sapien commodo libero, ut bibendum lorem augue vel lectus.</p>
        </div>
        <div class="col">
          <figure class="figure" style="cursor: pointer;">
            <img src="img/Sanremo-2022.jpeg" class="figure-img img-fluid rounded" alt="immagine Sanremo 2022" onclick="trackCategory('spettacolo','21')">
            <figcaption class="figure-caption">SPETTACOLO</figcaption>
          </figure>
          <h3><a href="/homepage" onclick="trackCategory('spettacolo')">TITOLO ARTICOLO C</a></h3>
          <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc consequat eleifend nisi ut efficitur. Nulla condimentum, libero ac venenatis rutrum, quam sapien commodo libero, ut bibendum lorem augue vel lectus.</p>
        </div>
        <div class="col">
          <figure class="figure" style="cursor: pointer;"> 
            <img src="img/politica.jpeg" class="figure-img img-fluid rounded" alt="immagine politica" onclick="trackCategory('politica','29')">
            <figcaption class="figure-caption">POLITICA</figcaption>
          </figure>
          <h3><a href="/homepage" onclick="trackCategory('politica')">TITOLO ARTICOLO D</a></h3>
          <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc consequat eleifend nisi ut efficitur. Nulla condimentum, libero ac venenatis rutrum, quam sapien commodo libero, ut bibendum lorem augue vel lectus.</p>
        </div>
      </div>
    </div>
    
    <!-- script bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
  </body>
  
<script>
  // funzione per il login con tracking marketing cloud
  function logIn(){
      var email = document.getElementById('email').value;
      var password = document.getElementById('password').value;
      _etmc.push(["setOrgId", "100007110"]);     
      _etmc.push(["setUserInfo", {"email" : email}]);     
      _etmc.push(["trackPageView"]);	 
      //location.href = 'homepage.html';

      document.getElementById('email').value="";
      document.getElementById('password').value="";
  }

  // funzione per la ricerca nel sito con tracking marketing cloud
  function search(){
    var search = document.getElementById('searchField').value;
    _etmc.push(["setOrgId", "100007110"]);
    _etmc.push(["trackPageView", { "search" : search, "timestamp" : ""}]);
    document.getElementById('searchField').value="";
  }

  function trackCategory(categoria, content_id){
    var category = categoria;
    var item = content_id;
    console.log("Categoria: "+category);
    _etmc.push(["setOrgId", "100007110"]);
    _etmc.push(["trackPageView", { "category" : category , "item" : item}]);

  }
</script>

    <!--script>
      document.addEventListener('DOMContentLoaded', function() {
        const loadEl = document.querySelector('#load');
        // // ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥
        // // The Firebase SDK is initialized and available here!
        //
        // firebase.auth().onAuthStateChanged(user => { });
        // firebase.database().ref('/path/to/ref').on('value', snapshot => { });
        // firebase.firestore().doc('/foo/bar').get().then(() => { });
        // firebase.functions().httpsCallable('yourFunction')().then(() => { });
        // firebase.messaging().requestPermission().then(() => { });
        // firebase.storage().ref('/path/to/ref').getDownloadURL().then(() => { });
        // firebase.analytics(); // call to activate
        // firebase.analytics().logEvent('tutorial_completed');
        // firebase.performance(); // call to activate
        //
        // // ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥

        try {
          let app = firebase.app();
          let features = [
            'auth', 
            'database', 
            'firestore',
            'functions',
            'messaging', 
            'storage', 
            'analytics', 
            'remoteConfig',
            'performance',
          ].filter(feature => typeof app[feature] === 'function');
          loadEl.textContent = `Firebase SDK loaded with ${features.join(', ')}`;
        } catch (e: any) {
          console.error(e);
          loadEl.textContent = 'Error loading the Firebase SDK, check the console.';
        }
      }); 
    </script-->

</html>
